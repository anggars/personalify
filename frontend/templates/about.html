<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>About - Personalify</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', path='assets/Spotify_Primary_Logo_RGB_White.ico') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@500;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="stylesheet" href="{{ url_for('static', path='styles/about.css') }}">
</head>
<body>

    <main class="main-content">
        
        <header class="hero">
            <h1>About Personalify</h1>
            <p>The project scoop, from exam brief to deployment.</p>
            </header>

        <div class="container">
            
            <div class="section">
                <h2 class="about-title-section">Just a Side-Quest?</h2>
<p>
                    Alright, so here's the plot twist. Personalify basically wasn't just a random side-quest I built for fun.
                    This whole project was actually my final exam for my <b>'Distributed Data Processing'</b> class back in semester 6.
                    The brief was to build a system that integrates several database technologies.
                    We had to pick a use case, so I went straight for the <b>'Streaming Service Metadata Platform'</b>,
                    and this web is the final result.
                </p>

                <p>
                    This whole thing is built with <a href="https://fastapi.tiangolo.com/" target="_blank" class="footer-link tech-fastapi">Python (FastAPI)</a>
                    on the backend, pulling data from the <a href="https://developer.spotify.com/" target="_blank" class="footer-link tech-spotify">Spotify Developer API</a>,
                    and served up via <a href="https://docker.com/" target="_blank" class="footer-link tech-docker">Docker</a>.
                    The main data lives in <a href="https://www.postgresql.org/" target="_blank" class="footer-link tech-postgres">PostgreSQL</a>,
                    sync history gets tossed into <a href="https://www.mongodb.com/" target="_blank" class="footer-link tech-mongo">MongoDB</a>,
                    and <a href="https://redis.io/" target="_blank" class="footer-link tech-redis">Redis</a> handles all the caching to keep things snappy.
                    The vibe check? That's a <a href="https://huggingface.co/SamLowe/roberta-base-go_emotions" target="_blank" class="footer-link tech-huggingface">Hugging Face</a>
                    NLP model. Finally, the whole setup is deployed with <a href="https://vercel.com/" target="_blank" class="footer-link tech-vercel">Vercel</a>
                    acting as a proxy for the <a href="https://render.com/" target="_blank" class="footer-link tech-render">Render</a> backend.
                </p>
            </div>

            <div class="section">
                <h2 class="about-title-section">About Me</h2>
                <p>
                    I'm Angga, an Informatics major who just genuinely enjoys building cool things.
                    My world really balances on three core interests. They are software dev, language, and (obviously) music. 
                    I'm always looking for creative ways these different fields can overlap,
                    and this project is truly the perfect example of that personal exploration.
                </p>
                
                <p>
                    This project is pretty much my whole personality a showcase of coding (mostly Python & JavaScript),
                    NLP, and I'm so deeply into <b><a href="#" id="math-rock-link">Math Rock</a></b> and <b><a href="#" id="midwest-emo-link">Midwest Emo</a></b>.
                    I'm down in the trenches geeking out trying to learn alternate guitar tunings like <b><a href="#" id="tuning-link">FACGCE</a></b> right now,
                    even though it’s tough as hell. This web is the crossover episode I didn’t know I needed.
                </p>
            </div>

            <div class="section">
                <h2 class="about-title-section">Hit Me Up!</h2>
                <div class="icon-social-links">
                    <a href="https://github.com/anggars" target="_blank" title="GitHub"><i class="fa-brands fa-github"></i></a>
                    <a href="http://linkedin.com/in/anggarnts" target="_blank" title="LinkedIn"><i class="fa-brands fa-linkedin-in"></i></a>
                    <a href="http://www.instagram.com/anggarnts" target="_blank" title="Instagram"><i class="fa-brands fa-instagram"></i></a>
                    <a href="https://open.spotify.com/user/31xon7qetimdnbmhkupbaszl52nu" target="_blank" title="Spotify"><i class="fa-brands fa-spotify"></i></a>
                    <a href="http://x.com/anggarnts" target="_blank" title="X (Twitter)"><i class="fa-brands fa-twitter"></i></a>
                    <a href="http://youtube.com/channel/UCYJhPYVPUXnPFZEuEBav4yA/videos" target="_blank" title="YouTube"><i class="fa-brands fa-youtube"></i></a>
                    <a href="http://soundcloud.com/anggarnts" target="_blank" title="SoundCloud"><i class="fa-brands fa-soundcloud"></i></a>
                    <a href="https://medium.com/@anggarnts" target="_blank" title="Medium"><i class="fa-brands fa-medium"></i></a>
                    <a href="http://t.me/anggarnts" target="_blank" title="Telegram"><i class="fa-brands fa-telegram"></i></a>
                    <a href="http://bit.ly/anggariantosudrajat" target="_blank" title="Blog"><i class="fa-solid fa-blog"></i></a>
                </div>
            </div>
        </div>
        <audio id="tuning-sound" src="{{ url_for('static', path='assets/audio/facgce-strum.mp3') }}" preload="auto"></audio>
        <audio id="math-rock-sound" src="{{ url_for('static', path='assets/audio/uchu-conbini-8films.mp3') }}" preload="auto"></audio>
        <audio id="midwest-emo-sound" src="{{ url_for('static', path='assets/audio/the-polar-bears-good-enough.mp3') }}" preload="auto"></audio>

        <a id="video-bubble" 
           class="video-bubble-toast" 
           href="https://youtu.be/oCI3fzZvKEo?si=dkjuFQOwWhY6TTx5" 
           target="_blank">
            <img src="{{ url_for('static', path='assets/facgce-strum.png') }}" alt="FACGCE Tuning" class="bubble-artwork">
            <div class="bubble-content">
                <span class="bubble-title marquee">
                    <div class="marquee-content">
                        <span>This Tuning = Automatically Dreamy Chords&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <span>This Tuning = Automatically Dreamy Chords&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                    </div>
                </span>
                <span class="bubble-channel">Let's Talk About Math Rock</span>
            </div>
        </a>

        <a id="math-rock-bubble" 
           class="video-bubble-toast" 
           href="https://open.spotify.com/track/40TzrhKx3TZQ07mp5JEWMC?si=47faf11359fc4b94" 
           target="_blank">
            <img src="{{ url_for('static', path='assets/uchu-conbini-8films.png') }}" alt="uchu conbini" class="bubble-artwork">
            <div class="bubble-content">
                <span class="bubble-title">8films</span>
                <span class="bubble-channel">宇宙コンビニ</span>
            </div>
        </a>
        
        <a id="midwest-emo-bubble" 
           class="video-bubble-toast" 
           href="https://open.spotify.com/album/4v8wrVdL5MzelOln49yffP?si=MSUqhOv-R16mCt-0iDM0tg" 
           target="_blank">
            <img src="{{ url_for('static', path='assets/the-polar-bears-good-enough.png') }}" alt="The Polar Bears" class="bubble-artwork">
            <div class="bubble-content">
                <span class="bubble-title">Good Enough</span>
                <span class="bubble-channel">The Polar Bears</span>
            </div>
        </a>
    </main>
    
    <footer>
        <a href="/" class="footer-link">Personalify</a>
        <span> © 2025 • Powered by </span>
        <a href="https://www.docker.com/" target="_blank" class="footer-link">Docker</a>
        <br>
        <span>Created by </span>
        <a href="https://desty.page/anggars" target="_blank" class="footer-link">アリツ</a>
    </footer>

    <script>
        // Fungsi typing (copy dari home.html)
        function typeEffect(element, text, speed = 30) {
            return new Promise((resolve) => {
                let index = 0;
                let currentHtml = '';
                // Hapus aturan 'visibility' dari sini, biarkan CSS yg atur
                function typeWriter() {
                    if (index < text.length) {
                        let char = text.charAt(index);
                        if (char === '<') {
                            let tagEnd = text.indexOf('>', index);
                            if (tagEnd !== -1) {
                                currentHtml += text.substring(index, tagEnd + 1);
                                index = tagEnd + 1;
                            } else {
                                currentHtml += char; index++;
                            }
                        } else {
                            currentHtml += char; index++;
                        }
                        element.innerHTML = currentHtml + '<span class="typing-cursor"></span>';
                        setTimeout(typeWriter, speed);
                    } else {
                        element.innerHTML = currentHtml;
                        resolve();
                    }
                }
                typeWriter();
            });
        }

        // Jalankan animasi setelah halaman dimuat
        document.addEventListener('DOMContentLoaded', async function() {
            const titleEl = document.querySelector('header.hero h1');
            const subtitleEl = document.querySelector('header.hero p');
            const containerEl = document.querySelector('.container');
            const footerEl = document.querySelector('footer');

            // --- Easter Egg Audio Logic (v2) ---
            
            // 1. Ambil semua Link
            const tuningLink = document.getElementById('tuning-link');
            const mathRockLink = document.getElementById('math-rock-link');
            const midwestEmoLink = document.getElementById('midwest-emo-link');
            
            // 2. Ambil semua Audio (DAN MASUKKAN KE ARRAY)
            const tuningSound = document.getElementById('tuning-sound');
            const mathRockSound = document.getElementById('math-rock-sound');
            const midwestEmoSound = document.getElementById('midwest-emo-sound');
            // BARU: Buat array untuk melacak semua audio
            const allSounds = [tuningSound, mathRockSound, midwestEmoSound];

            // 3. Ambil semua Bubble (VERSI BARU)
            const allBubbles = document.querySelectorAll('.video-bubble-toast');
            const videoBubble = document.getElementById('video-bubble');
            const mathRockBubble = document.getElementById('math-rock-bubble');
            const midwestEmoBubble = document.getElementById('midwest-emo-bubble');

            // 4. Siapkan SATU timer global
            let activeBubbleTimer = null;

            // 5. Helper function biar gak nulis ulang (Audio - Versi ini sudah benar)
            function playSound(soundToPlay) {
                allSounds.forEach(sound => {
                    if (sound !== soundToPlay && !sound.paused) {
                        sound.pause();
                        sound.currentTime = 0;
                    }
                });
                if (!soundToPlay.paused) {
                    soundToPlay.pause();
                    soundToPlay.currentTime = 0;
                }
                soundToPlay.play();
            }

            // 6. Helper function buat nampilin bubble (VERSI BARU - Anti Numpuk)
            function showBubble(bubbleToShow) {
                // 1. Hapus timer lama, APAPUN ITU.
                if (activeBubbleTimer) clearTimeout(activeBubbleTimer);

                // 2. Sembunyikan SEMUA bubble LAINNYA
                allBubbles.forEach(bubble => {
                    if (bubble !== bubbleToShow) {
                        bubble.classList.remove('show');
                    }
                });
                
                // 3. (BARU) Tentukan durasi timeout
                let bubbleDuration = 10000;
                
                // 4. Reset animasi marquee jika ini bubble video
                if (bubbleToShow.id === 'video-bubble') {
                    const marqueeWrapper = bubbleToShow.querySelector('.marquee-content');
                    if (marqueeWrapper) {
                        // SAMAKAN DENGAN CSS:
                        const marqueeDurationSeconds = 4; 
                        
                        // (BARU) Set durasi bubble agar = 1x loop animasi
                        bubbleDuration = marqueeDurationSeconds * 1000; 

                        // Reset animasi
                        marqueeWrapper.style.animation = 'none';
                        void marqueeWrapper.offsetWidth; 
                        marqueeWrapper.style.animation = `marquee ${marqueeDurationSeconds}s linear infinite`;
                    }
                }
                
                // 5. Tampilkan bubble yang diminta
                bubbleToShow.classList.add('show');
                
                // 6. (BARU) Set timer BARU dengan durasi yang tepat
                activeBubbleTimer = setTimeout(() => {
                    bubbleToShow.classList.remove('show');
                }, bubbleDuration); // Gunakan durasi yg sudah ditentukan (5s atau 10s)
            }

            // 7. Pasang Listener ke FACGCE (BARU: Panggil showBubble tanpa timer)
            if (tuningLink && tuningSound && videoBubble) {
                tuningLink.addEventListener('click', function(event) {
                    event.preventDefault();
                    playSound(tuningSound);
                    showBubble(videoBubble);
                });
            }

            // 8. Pasang Listener ke Math Rock (BARU)
            if (mathRockLink && mathRockSound && mathRockBubble) {
                mathRockLink.addEventListener('click', function(event) {
                    event.preventDefault();
                    playSound(mathRockSound);
                    showBubble(mathRockBubble);
                });
            }

            // 9. Pasang Listener ke Midwest Emo (BARU)
            if (midwestEmoLink && midwestEmoSound && midwestEmoBubble) {
                midwestEmoLink.addEventListener('click', function(event) {
                    event.preventDefault();
                    playSound(midwestEmoSound);
                    showBubble(midwestEmoBubble);
                });
            }
            // --- End Easter Egg Logic ---

            if (!titleEl || !subtitleEl || !containerEl) return;

            // Simpan teks asli
            const titleText = titleEl.textContent;
            const subtitleText = subtitleEl.textContent;
            titleEl.innerHTML = '';
            subtitleEl.innerHTML = '';

            // Tampilkan H1 & Subtitle (CSS akan handle 'visibility: hidden')
            titleEl.classList.add('visible');
            subtitleEl.classList.add('visible');
            
            // 1. Ketik Judul
            await typeEffect(titleEl, titleText, 50);
            // 2. Ketik Subtitle
            await typeEffect(subtitleEl, subtitleText, 30);
            
            // 3. Tampilkan Konten (Fade In)
            containerEl.style.visibility = 'visible';
            containerEl.style.opacity = '0'; // Set ulang opacity untuk animasi
            containerEl.style.animation = 'fadeInUp 1s ease-out forwards';

            // 4. Tampilkan Footer
            if (footerEl) footerEl.classList.add('fade-in');
        });
    </script>
</body>
</html>